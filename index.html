<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will You Be My Valentine?</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
      background: pink;
      overflow-x: hidden;
      text-align: center;
    }

    h1 { margin-top: 40px; font-size: 32px; color: #d60057; text-shadow: 2px 2px white; }
    #message { font-size: 18px; color: #b3003c; margin: 15px auto; width: 90%; line-height: 1.5em; }

    #yes, #no {
      padding: 12px 25px;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      transition: 0.3s;
      width: 140px;
      height: 60px;
      font-size: 22px;
      z-index: 20;
      position: absolute;
    }

    #yes { background: #ff005d; color: white; left: 35%; transform: translateX(-50%); }
    #no { background: #ffadc4; right: 35%; transform: translateX(50%); }

    img {
      margin-top: 20px;
      width: 70vw;
      max-width: 260px;
      border-radius: 15px;
      box-shadow: 0px 0px 10px #ff4d88;
      position: relative;
      z-index: 1;
    }

    @keyframes sparkleFade { 0%{opacity:1; transform:scale(1);} 100%{opacity:0; transform:scale(2);} }

    .gallery-img {
      width: 40%;
      max-width: 150px;
      border-radius: 15px;
      box-shadow: 0 0 10px pink;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <audio id="gg" loop preload="auto" playsinline webkit-playsinline>
    <source src="gg.mp3" type="audio/mpeg" />
  </audio>

  <!-- INTRO PAGE -->
  <div id="introPage" style="position:fixed; top:0; left:0; width:100%; height:100%; background:pink; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; z-index:100000; transition:opacity 0.3s ease; pointer-events:auto;">
    <div style="background:white; padding:35px 45px; border-radius:25px; box-shadow:0 0 30px rgba(255,0,128,0.4); width:80%; max-width:320px; pointer-events:auto;">
      <div style="font-size:24px; color:#ff007f; font-weight:600;">ğŸ’— Let's lighten the mood ğŸ’—</div>
      <p style="font-size:17px; color:#ff62a6; margin-top:10px;">Press Continue to startğŸ’</p>
      <button id="continueBtn" style="margin-top:20px; padding:12px 25px; font-size:20px; border:none; background:#ff5fa2; color:white; border-radius:15px; cursor:pointer;">Continue ğŸ’</button>
    </div>
  </div>

  <!-- MAIN PAGE -->
  <div id="mainPage" style="display:none;">
    <h1>Will You Be My Valentine,Ayang? â¤ï¸</h1>

    <div id="message">My love, since the day you came into my life, everything became softer, sweeter,
      and so much more meaningful. You are my safe place, my happiness, my peace. â¤ï¸<br><br>So todayâ€¦ I want to ask you something from the bottom of my heart.
    </div>

    <img src="img.jpeg" alt="Cute Image" />

    <div class="buttons" style="width:100%; height:80px; margin-top:40px; position:relative;">
      <button id="yes" onclick="sayYes()">Yes â¤ï¸</button>
      <button id="no" onclick="moveNo()">No ğŸ˜­</button>
    </div>
  </div>

  <!-- YES PAGE -->
  <div id="yesPage" style="display:none; text-align:center; padding:20px;">
    <h1 style="color:#ff007f;">Yayyyyy!!! â¤ï¸</h1>
    <p style="font-size:20px; color:#b30047; width:85%; margin:auto; line-height:1.6;">
     when you said yes, my whole heart smiled. ğŸ’–<br><br> I donâ€™t know how to explain it perfectly, but you make everything in my life softer, calmer, and happier. Every time I talk to you, every little moment we share, even the silly ones, becomes something special to me. You have this gentle way of making me feel understood, appreciated, and cared for â€” and I hope you always feel the same from me too. ğŸ’<br><br> Iâ€™m not perfect, but loving you is the easiest thing Iâ€™ve ever done. Youâ€™re my comfort, my peace, my safe place, my constant. Being with you feels like home, and Iâ€™m truly grateful that I get to call you my person. ğŸ§¸ğŸ’—<br><br> Thank you for being mine, for choosing me, for staying with me. I promise Iâ€™ll love you in all the small ways, in all the big ways, in every way my heart knows. Youâ€™re my forever valentine, now and always.ğŸ’ğŸ’—
    </p>

    <button id="continueToGallery" style="margin-top:25px; padding:12px 25px; font-size:20px; border:none; background:#ff5fa2; color:white; border-radius:15px; cursor:pointer;">Continue ğŸ’</button>
  </div>

  <!-- GALLERY PAGE -->
  <div id="galleryPage" style="display:none; text-align:center; padding:20px; opacity:0; transition:opacity 0.5s ease;">
    <h1 style="color:#ff007f;">Our Little Memories ğŸ’—</h1>
    <p style="color:#b30047; font-size:18px;">Tap any picture to see a cute message ğŸ¥ºğŸ’</p>

   <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px; justify-items:center; margin-top:20px;">
      <img src="img1.jpeg" class="gallery-img" onclick="openMsg('msg1')">
      <img src="img2.jpeg" class="gallery-img" onclick="openMsg('msg2')">
      <img src="img3.jpeg" class="gallery-img" onclick="openMsg('msg3')">
      <img src="img4.jpeg" class="gallery-img" onclick="openMsg('msg4')">
    </div>
  </div>

  <!-- POPUP MESSAGE -->
  <div id="picMessage" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); backdrop-filter:blur(3px); z-index:200000; justify-content:center; align-items:center;">
    <div id="picMsgBox" style="background:white; padding:25px; border-radius:20px; width:80%; max-width:300px; text-align:center; box-shadow:0 0 20px pink; font-size:18px; color:#b30047;"></div>
  </div>

<script>
  let musicStarted = false;
  const bgm = document.getElementById('gg');
  const intro = document.getElementById('introPage');
  const continueBtn = document.getElementById('continueBtn');
  const galleryPage = document.getElementById('galleryPage');

  function startMusic() {
    intro.style.opacity = '0';
    setTimeout(() => {
      intro.style.display = 'none';
      document.getElementById('mainPage').style.display = 'block';
    }, 300);

    if (!musicStarted) {
      bgm.load();
      bgm.play().then(() => { musicStarted = true; }).catch(() => {});
    }
  }

  continueBtn.addEventListener('click', startMusic);
  continueBtn.addEventListener('touchstart', (e) => { e.preventDefault(); startMusic(); });

  function sayYes() {
    document.getElementById('mainPage').style.display = 'none';
    document.getElementById('yesPage').style.display = 'block';
  }

  // FIX: moveNo was missing
  function moveNo() {
    const noBtn = document.getElementById('no');
    const yesBtn = document.getElementById('yes');

    yesBtn.style.width = yesBtn.offsetWidth + 18 + 'px';
    yesBtn.style.height = yesBtn.offsetHeight + 10 + 'px';
    yesBtn.style.fontSize = (parseInt(window.getComputedStyle(yesBtn).fontSize) + 3) + 'px';

    const screenW = window.innerWidth;
    const screenH = window.innerHeight;

    const maxX = screenW - noBtn.offsetWidth - 20;
    const minY = 120;
    const maxY = screenH * 0.45;

    const x = Math.random() * maxX;
    const y = Math.random() * (maxY - minY) + minY;

    noBtn.style.left = x + 'px';
    noBtn.style.top = y + 'px';
  }

  // Gallery Continue
  document.getElementById('continueToGallery').addEventListener('click', () => {
    document.getElementById('yesPage').style.display = 'none';
    galleryPage.style.display = 'block';
    setTimeout(() => galleryPage.style.opacity = '1', 50);
  });

  function openMsg(id) {
    const messages = {
      msg1: "You make my heart feel safe, warm, and so loved. ğŸ’—ğŸ¥º",
      msg2: "Every moment with you is my favorite memory. ğŸ’",
      msg3: "Youâ€™re the cutest thing that ever happened to me. ğŸ§¸ğŸ’˜",
      msg4: "I choose you. Always. Forever. No matter what. â¤ï¸"
    };

    const popup = document.getElementById('picMessage');
    const box = document.getElementById('picMsgBox');

    box.innerHTML = messages[id];
    popup.style.display = 'flex';
    popup.onclick = () => popup.style.display = 'none';
  }
</script>
</body>
</html>
